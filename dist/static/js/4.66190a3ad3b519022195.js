webpackJsonp([4],{"/83L":function(t,i,o){t.exports=o.p+"static/img/capSize.8c173c5.jpg"},aJsD:function(t,i){},fiBL:function(t,i){},nyo6:function(t,i){},wKVb:function(t,i,o){t.exports=o.p+"static/img/clothesSize.6b715fd.jpg"},yOvF:function(t,i){},yXpn:function(t,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=o("Dd8w"),a=o.n(e),s=o("CRLr"),n={name:"Gallery",data:function(){return{imgList:[],swiperOptions:{pagination:".swiper-pagination",paginationType:"fraction",observer:!0,observeParents:!0}}},created:function(){s.a.$on("showImgData",this.imgConversion)},methods:{imgConversion:function(t){this.imgList=t},cls:function(){s.a.$emit("showImgState",!1)}}},m={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"container",on:{click:function(i){return t.cls()}}},[o("div",{staticClass:"wrapper"},[o("swiper",{attrs:{options:t.swiperOptions}},[t._l(t.imgList,function(t,i){return o("swiper-slide",{key:i},[o("img",{staticClass:"gallary-img",attrs:{src:t}})])}),t._v(" "),o("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])},staticRenderFns:[]};var c=o("VU/8")(n,m,!1,function(t){o("fiBL")},"data-v-669feef7",null).exports,r={name:"CommodityHeader",methods:{goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}}},d={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("div",{staticClass:"commodity-title"},[i("div",{staticClass:"out-btn"},[i("div",{staticClass:"out",on:{click:this.goBack}},[i("span",{staticClass:"iconfont"},[this._v("")])])]),this._v(" "),this._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"title"},[i("span",[this._v("商品详情")])])}]};var l=o("VU/8")(r,d,!1,function(t){o("nyo6")},"data-v-bf1f34ae",null).exports,u=o("/83L"),h=o.n(u),y=o("wKVb"),f=o.n(y),v=o("MqkC"),p=o("NYxO"),g={name:"CommodityMiddel",data:function(){return{commodityInformation:[],NumberValue:1,sizeList:["S","M","L","XL","XXL","常规"],selectionId:0,commodityData:{commodity_Class:"雕塑手办",conllectionState:!0,id:"0002",imgUrl:"",number:1,price:"",state:!1,title:"",size:""},commodityGuaranteeValue:4,timer:null}},created:function(){s.a.$on("commodityInformation",this.commodityInformationcarrier)},computed:a()({},Object(p.b)(["token"])),methods:{commodityInformationcarrier:function(t){var i=this;this.commodityInformation=t[0],this.commodityData.id=this.commodityInformation.id,this.commodityData.conllectionState=this.commodityInformation.conllectionState,this.commodityData.imgUrl=this.commodityInformation.imgUrl,this.commodityData.price=this.commodityInformation.price,this.commodityData.title=this.commodityInformation.title,this.NumberValue=this.commodityData.number,this.sizeList=this.sizeList.filter(function(t){return i.commodityInformation.commodity_Presonality.indexOf("帽子")>=0||i.commodityInformation.commodity_Presonality.indexOf("卫衣&夹克")>=0||i.commodityInformation.commodity_Presonality.indexOf("T恤")>=0||i.commodityInformation.commodity_Presonality.indexOf("LPL X NIKE")>=0||i.commodityInformation.title.indexOf("帽")>=0?(i.commodityInformation.title.indexOf("帽")>=0?i.commodityInformation.sizeImg=h.a:i.commodityInformation.sizeImg=f.a,"常规"!==t):"常规"===t}),this.commodityData.size=this.sizeList[0],this.sizeList.forEach(function(o,e){t.size===o&&(i.selectionId=e)})},commodityNumberValue:function(t){"add"===t?this.NumberValue<99?this.NumberValue+=1:this.NumberValue=this.NumberValue:this.NumberValue>1?this.NumberValue-=1:this.NumberValue=this.NumberValue,this.commodityData.number=this.NumberValue},commoditySize:function(t,i){var o=this.sizeList.filter(function(t){if(t===i)return t});this.commodityData.size=o,this.selectionId=t},commodityAction:function(t){var i=this;if("shoppingCar"===t)if(this.commodityData.commodityActionState="shoppingCar",this.token){this.$toast.loading({message:"加载中...",forbidClick:!0});var o={number:this.commodityData.number,size:this.commodityData.size,commodityId:this.commodityData.id};this.$store.dispatch("user/postUserOrderInfo",{url:"/postUserShoppingCar",params:{informationCommodityData:o,actionStyle:this.commodityData.commodityActionState}}).then(function(t){i.judgeJoin(t)})}else this.$router.push("/Account/Login");else if("ovder"===t){this.commodityData.commodityActionState="ovder";var e={number:this.commodityData.number,size:this.commodityData.size,commodityId:this.commodityData.id};this.token?(this.$toast.loading({message:"加载中...",forbidClick:!0}),this.$store.dispatch("user/postUserOrderInfo",{url:"/postUserOrderColumn",params:{commodity:e,action:"addpay"}}).then(function(t){i.jumpPay(t)})):this.$router.push("/Account/Login")}else this.token?(this.commodityData.conllectionState=!this.commodityData.conllectionState,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){i.$toast.loading({message:"加载中...",forbidClick:!0}),i.commodityData.commodityActionState="conllection",i.$store.dispatch("user/postUserOrderInfo",{url:"/postUserColloection",params:{commodity:i.commodityData.id}}).then(function(t){i.judgeJoin(t)}).catch(function(t){console.log(t),i.$toast.fail("请稍后...")})},1e3)):this.$router.push("/Account/Login")},jumpPay:function(t){t?(this.$toast.clear(),v.a.setPayId(t.orderNumber),v.a.setAction("pay"),this.$router.push("/user/PasswordBtn")):(this.$toast.clear(),this.$toast.fail("系统繁忙，请稍后再支付"))},judgeJoin:function(t){t?(this.$toast.clear(),this.$toast.success("操作成功")):(this.$toast.clear(),this.$toast.fail("请稍后..."))},imgShow:function(t){var i=[];i.push(t),s.a.$emit("showImgData",i),s.a.$emit("showImgState",!0)}}},C={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",[o("div",{staticClass:"commodity-middel-box"},[o("div",{staticClass:"commodity-middel-first"},[o("div",{staticClass:"commodity-name"},[o("span",[t._v(t._s(t.commodityInformation.title))])]),t._v(" "),o("div",{staticClass:"commodity-img"},[o("img",{attrs:{src:t.commodityInformation.imgUrl},on:{click:function(i){return t.imgShow(t.commodityInformation.imgUrl)}}})]),t._v(" "),o("div",{staticClass:"commodity-size"},[o("ul",[o("li",{staticClass:"commodity-size-title"},[t._v("尺寸：")]),t._v(" "),t._l(t.sizeList,function(i,e){return o("li",{key:e,staticClass:"commodity-size-content",class:{sizeSelection:e===t.selectionId},on:{click:function(o){return t.commoditySize(e,i)}}},[t._v("\n            "+t._s(i)+"\n          ")])})],2)])]),t._v(" "),o("div",{staticClass:"commodity-middel-box-second"},[o("div",{staticClass:"commodity-middel-box-third"},[o("div",{staticClass:"commodity-price"},[o("span",{staticClass:"commodity-price-title"},[t._v("价格:")]),t._v(" "),o("br"),o("br"),t._v(" "),o("span",{staticClass:"commodity-price-content"},[t._v("￥"+t._s(t.commodityData.price))])]),t._v(" "),o("div",{staticClass:"commodity-number"},[o("div",{staticClass:"commodity-reduce-value",on:{click:function(i){return t.commodityNumberValue("reduec")}}},[t._v("-")]),t._v(" "),o("div",{staticClass:"commodity-number-value",domProps:{textContent:t._s(t.NumberValue)}}),t._v(" "),o("div",{staticClass:"commodity-add-value",on:{click:function(i){return t.commodityNumberValue("add")}}},[t._v("+")])])]),t._v(" "),o("div",{staticClass:"commodity-middel-box-fifth"},[o("div",{staticClass:"commodity-evaluate"},[t._m(0),t._v(" "),o("van-rate",{staticClass:"commodity-evaluate-content",attrs:{"allow-half":"","void-icon":"star","void-color":"#eee",readonly:!0},model:{value:t.commodityGuaranteeValue,callback:function(i){t.commodityGuaranteeValue=i},expression:"commodityGuaranteeValue"}})],1),t._v(" "),o("div",{staticClass:"commodity-ovder",on:{click:function(i){return t.commodityAction("ovder")}}},[o("span",[t._v("立即购买")])]),t._v(" "),o("div",{staticClass:"commodity-shoppingCar",on:{click:function(i){return t.commodityAction("shoppingCar")}}},[o("span",[t._v("加入购物车")])]),t._v(" "),o("div",{staticClass:"commodity-conllection",on:{click:function(i){return t.commodityAction("conllection")}}},[t.commodityData.conllectionState?o("span",[o("span",{staticClass:"iconfont"},[t._v("")]),t._v("\n            已收藏\n          ")]):o("span",[o("span",{staticClass:"iconfont"},[t._v("")]),t._v("\n              收藏\n          ")])])]),t._v(" "),this.commodityInformation.sizeImg?o("div",{staticClass:"commodity-sizeImg"},[o("p",{staticClass:"commodity-sizeImg-title"},[t._v("尺码详情:")]),t._v(" "),o("img",{attrs:{src:t.commodityInformation.sizeImg,alt:"尺寸图片"},on:{click:function(i){return t.imgShow(t.commodityInformation.sizeImg)}}})]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"commodity-evaluate-title"},[i("span",[this._v("推荐度：")])])}]};var _={name:"Commodity",components:{CommodityHeader:l,CommodityMiddel:o("VU/8")(g,C,!1,function(t){o("aJsD")},"data-v-435a936d",null).exports,Gallery:c},data:function(){return{commodityKey:"",commodityInformation:[],galleryShow:!1,keepAliveId:0}},computed:a()({},Object(p.b)(["token"])),methods:{obtainLetter:function(t){var i=this;this.commodityKey=t,this.commodityData.forEach(function(o){o.id===t&&(i.commodityInformation=o)})},showImgStateFs:function(t){this.galleryShow=t},getCommodityData:function(){var t=this;this.$store.dispatch("user/getUserOrderInfo",{url:"/getCommodity",params:{commodityId:this.$route.params.commodityId}}).then(function(i){t.getCommodityDataSucc(i)})},getCommodityDataSucc:function(t){t&&0!==t.length?(this.commodityInformation=t,s.a.$emit("commodityInformation",this.commodityInformation)):(this.$toast.fail("该商品已下架"),this.$route.go(-1))}},created:function(){s.a.$on("showImgState",this.showImgStateFs)},mounted:function(){this.getCommodityData(),this.keepAliveId=this.$route.params.commodityId},activated:function(){this.$route.params.commodityId!==this.keepAliveId&&this.getCommodityData()}},I={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"commodityBox"},[i("header",{staticClass:"commodity-header"},[i("commodity-header")],1),this._v(" "),i("main",{staticClass:"commodity-main"},[i("commodity-middel")],1),this._v(" "),i("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",duration:300}},[i("gallery",{directives:[{name:"show",rawName:"v-show",value:this.galleryShow,expression:"galleryShow"}]})],1),this._v(" "),i("router-view")],1)},staticRenderFns:[]};var b=o("VU/8")(_,I,!1,function(t){o("yOvF")},"data-v-f7c9ed84",null);i.default=b.exports}});
//# sourceMappingURL=4.66190a3ad3b519022195.js.map